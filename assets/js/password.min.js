$(document).ready(function(){function e(){m.validator().on("submit",n);var e=getUrlParams();e.email&&v.val(decodeURIComponent(e.email))}function n(e){if(!e.isDefaultPrevented()){e.preventDefault();var n=getBaseUrl()+r("/nhgu/cnffjbeq/erfrg"),t=v.val();c(),i(!0);var s={type:"POST",contentType:"application/json",url:n,data:JSON.stringify({email:t}),success:function(){d(),l("Wenn f√ºr diese Adresse ein Nutzerkonto existiert, erh√§ltst Du in wenigen Minuten eine Email zum Zur√ºcksetzen Deines Passworts. Bitte kontrolliere auch Deinen Spam-Ordner.")},error:function(e,n,t){t&&(console.log("jqXHR: "+JSON.stringify(e)),console.log("Status: "+n),console.log("Error: "+t));var s="Unbekannter Fehler";400===e.status&&(s="Ung√ºltige E-Mail-Adresse"),o(s),i(!1)}};$.ajax(s)}}function t(){h.validator().on("submit",a),s()}function s(){var e=getUrlParams(),n=window.location.hash.slice(1);if(e.env&&"dev"!=e.env&&"prod"!=e.env)o('Unbekannte Umgebung: "'+e.env+'"');else{if(!n||3!==n.split(".").length)return o("Der Reset-Link hat ein ung√ºltiges Format."),void k.show();try{jwt_decode(n)}catch(e){return o("Der Reset-Link hat ein ung√ºltiges Format."),void k.show()}D.hide(),f.slideDown()}}function a(e){if(!e.isDefaultPrevented()){e.preventDefault();var n=p.val(),t=getUrlParams().env,s=getBaseUrl(t)+r("/nhgu/cnffjbeq"),a=window.location.hash.slice(1),i={type:"PUT",contentType:"application/json",url:s,data:JSON.stringify({resetToken:a,pass:n}),success:function(){d(),l("üéâ&emsp; Dein neues Passwort wurde erfolgreich gesetzt.")},error:function(e,n,t){t&&(console.log("jqXHR: "+JSON.stringify(e)),console.log("Status: "+n),console.log("Error: "+t));var s="Unbekannter Fehler";404===e.status?(s="Das Nutzerkonto f√ºr diese Adresse existiert nicht.",d(),k.show()):400===e.status&&(s="Der Reset-Link ist abgelaufen oder ung√ºltig.",d(),k.show()),o(s)}};$.ajax(i)}}function i(e){e?(g.attr("disabled",!0),w.fadeIn(),b.fadeOut()):(g.attr("disabled",!1),w.fadeOut(),b.fadeIn())}function o(e){U.removeClass("alert-success"),U.addClass("alert-danger"),u(e)}function l(e){U.removeClass("alert-danger"),U.addClass("alert-success"),u(e)}function u(e){U.html(e),D.slideDown()}function c(){D.slideUp()}function d(){f.hide()}var f=$(".form-row"),g=$("#signup-form :input"),m=$("#forgot-password-form"),v=$("#email"),h=$("#reset-password-form"),p=$("#password"),w=$("#btn-submit .spinner"),b=$("#btn-submit .text"),D=$(".alert-row"),U=$("#msg"),k=$(".new-link");w.hide(),w.css({opacity:1}),m.length?e():h.length&&t()});